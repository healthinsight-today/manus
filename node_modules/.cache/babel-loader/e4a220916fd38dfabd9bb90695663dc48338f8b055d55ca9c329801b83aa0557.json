{"ast":null,"code":"import React,{useState,useEffect}from'react';import{useParams,useNavigate}from'react-router-dom';import{useReports}from'../context/ReportsContext';import PageContainer from'../components/layout/PageContainer';import RecommendationDetail from'../components/recommendations/RecommendationDetail';import Button from'../components/common/Button';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const RecommendationDetailPage=()=>{const{recommendationId}=useParams();const{recommendations,isLoading,error}=useReports();const[recommendation,setRecommendation]=useState(null);const[relatedRecommendations,setRelatedRecommendations]=useState([]);const navigate=useNavigate();// Fetch recommendation data\nuseEffect(()=>{if(recommendationId&&recommendations.length>0){const currentRecommendation=recommendations.find(r=>r.id===recommendationId);if(currentRecommendation){setRecommendation(currentRecommendation);// Find related recommendations (same category or related parameters)\nconst related=recommendations.filter(r=>r.id!==recommendationId&&(r.category===currentRecommendation.category||r.related_parameters&&currentRecommendation.related_parameters&&r.related_parameters.some(param=>{var _currentRecommendatio;return(_currentRecommendatio=currentRecommendation.related_parameters)===null||_currentRecommendatio===void 0?void 0:_currentRecommendatio.includes(param);})));setRelatedRecommendations(related.slice(0,3));// Limit to 3 related recommendations\n}}},[recommendationId,recommendations]);// Handle back to recommendations\nconst handleBackToRecommendations=()=>{navigate('/recommendations');};// Handle view related recommendation\nconst handleViewRelatedRecommendation=relatedRecommendationId=>{navigate(`/recommendations/${relatedRecommendationId}`);};return/*#__PURE__*/_jsx(PageContainer,{title:recommendation?recommendation.title:'Recommendation Details',description:recommendation?`${recommendation.category||'Health'} • ${recommendation.priority||'Medium'} Priority`:'Loading recommendation details...',isLoading:isLoading,error:error,actions:/*#__PURE__*/_jsx(Button,{variant:\"outline\",onClick:handleBackToRecommendations,leftIcon:/*#__PURE__*/_jsx(\"svg\",{className:\"w-4 h-4\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",xmlns:\"http://www.w3.org/2000/svg\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:\"2\",d:\"M10 19l-7-7m0 0l7-7m-7 7h18\"})}),children:\"Back to Recommendations\"}),children:recommendation?/*#__PURE__*/_jsx(RecommendationDetail,{recommendation:recommendation,relatedRecommendations:relatedRecommendations,onViewRelatedRecommendation:handleViewRelatedRecommendation}):!isLoading&&!error?/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-12\",children:[/*#__PURE__*/_jsx(\"svg\",{className:\"w-16 h-16 text-neutral-400 mx-auto mb-4\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",xmlns:\"http://www.w3.org/2000/svg\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:\"2\",d:\"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2\"})}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-semibold text-neutral-800 dark:text-white mb-2\",children:\"Recommendation Not Found\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-neutral-600 dark:text-neutral-400 mb-6\",children:\"The recommendation you're looking for doesn't exist or has been removed.\"}),/*#__PURE__*/_jsx(Button,{variant:\"primary\",onClick:handleBackToRecommendations,children:\"Go to Recommendations\"})]}):null});};export default RecommendationDetailPage;","map":{"version":3,"names":["React","useState","useEffect","useParams","useNavigate","useReports","PageContainer","RecommendationDetail","Button","jsx","_jsx","jsxs","_jsxs","RecommendationDetailPage","recommendationId","recommendations","isLoading","error","recommendation","setRecommendation","relatedRecommendations","setRelatedRecommendations","navigate","length","currentRecommendation","find","r","id","related","filter","category","related_parameters","some","param","_currentRecommendatio","includes","slice","handleBackToRecommendations","handleViewRelatedRecommendation","relatedRecommendationId","title","description","priority","actions","variant","onClick","leftIcon","className","fill","stroke","viewBox","xmlns","children","strokeLinecap","strokeLinejoin","strokeWidth","d","onViewRelatedRecommendation"],"sources":["/home/ubuntu/healthinsighttoday-frontend/src/pages/RecommendationDetailPage.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useParams, useNavigate } from 'react-router-dom';\nimport { useReports } from '../context/ReportsContext';\nimport PageContainer from '../components/layout/PageContainer';\nimport RecommendationDetail from '../components/recommendations/RecommendationDetail';\nimport Button from '../components/common/Button';\nimport { Recommendation } from '../types/Report';\n\nconst RecommendationDetailPage: React.FC = () => {\n  const { recommendationId } = useParams<{ recommendationId: string }>();\n  const { recommendations, isLoading, error } = useReports();\n  const [recommendation, setRecommendation] = useState<Recommendation | null>(null);\n  const [relatedRecommendations, setRelatedRecommendations] = useState<Recommendation[]>([]);\n  const navigate = useNavigate();\n\n  // Fetch recommendation data\n  useEffect(() => {\n    if (recommendationId && recommendations.length > 0) {\n      const currentRecommendation = recommendations.find(r => r.id === recommendationId);\n      if (currentRecommendation) {\n        setRecommendation(currentRecommendation);\n        \n        // Find related recommendations (same category or related parameters)\n        const related = recommendations.filter(r => \n          r.id !== recommendationId && (\n            r.category === currentRecommendation.category ||\n            (r.related_parameters && currentRecommendation.related_parameters && \n             r.related_parameters.some(param => currentRecommendation.related_parameters?.includes(param)))\n          )\n        );\n        setRelatedRecommendations(related.slice(0, 3)); // Limit to 3 related recommendations\n      }\n    }\n  }, [recommendationId, recommendations]);\n\n  // Handle back to recommendations\n  const handleBackToRecommendations = () => {\n    navigate('/recommendations');\n  };\n\n  // Handle view related recommendation\n  const handleViewRelatedRecommendation = (relatedRecommendationId: string) => {\n    navigate(`/recommendations/${relatedRecommendationId}`);\n  };\n\n  return (\n    <PageContainer\n      title={recommendation ? recommendation.title : 'Recommendation Details'}\n      description={recommendation ? `${recommendation.category || 'Health'} • ${recommendation.priority || 'Medium'} Priority` : 'Loading recommendation details...'}\n      isLoading={isLoading}\n      error={error}\n      actions={\n        <Button\n          variant=\"outline\"\n          onClick={handleBackToRecommendations}\n          leftIcon={\n            <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M10 19l-7-7m0 0l7-7m-7 7h18\"></path>\n            </svg>\n          }\n        >\n          Back to Recommendations\n        </Button>\n      }\n    >\n      {recommendation ? (\n        <RecommendationDetail\n          recommendation={recommendation}\n          relatedRecommendations={relatedRecommendations}\n          onViewRelatedRecommendation={handleViewRelatedRecommendation}\n        />\n      ) : !isLoading && !error ? (\n        <div className=\"text-center py-12\">\n          <svg className=\"w-16 h-16 text-neutral-400 mx-auto mb-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\n            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2\"></path>\n          </svg>\n          <h3 className=\"text-xl font-semibold text-neutral-800 dark:text-white mb-2\">Recommendation Not Found</h3>\n          <p className=\"text-neutral-600 dark:text-neutral-400 mb-6\">\n            The recommendation you're looking for doesn't exist or has been removed.\n          </p>\n          <Button\n            variant=\"primary\"\n            onClick={handleBackToRecommendations}\n          >\n            Go to Recommendations\n          </Button>\n        </div>\n      ) : null}\n    </PageContainer>\n  );\n};\n\nexport default RecommendationDetailPage;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}