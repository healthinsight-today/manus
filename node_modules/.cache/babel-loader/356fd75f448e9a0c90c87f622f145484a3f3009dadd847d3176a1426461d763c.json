{"ast":null,"code":"import React,{useState,useEffect}from'react';import{useReports}from'../context/ReportsContext';import PageContainer from'../components/layout/PageContainer';import Card from'../components/common/Card';import Button from'../components/common/Button';import{useNavigate}from'react-router-dom';import{AreaChart,Area,XAxis,YAxis,CartesianGrid,Tooltip,ResponsiveContainer}from'recharts';import{formatDate}from'../utils/formatters/dateFormatter';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const HistoryPage=()=>{var _trendData$,_trendData$2;const{reports,isLoading,error}=useReports();const navigate=useNavigate();const[selectedParameter,setSelectedParameter]=useState('');const[parameters,setParameters]=useState([]);const[trendData,setTrendData]=useState([]);// Extract unique parameters from all reports\nuseEffect(()=>{if(reports.length>0){const uniqueParams=new Set();reports.forEach(report=>{report.test_sections.forEach(section=>{section.parameters.forEach(param=>{uniqueParams.add(param.name);});});});const paramsList=Array.from(uniqueParams).sort();setParameters(paramsList);// Set default selected parameter\nif(paramsList.length>0&&!selectedParameter){setSelectedParameter(paramsList[0]);}}},[reports,selectedParameter]);// Generate trend data for selected parameter\nuseEffect(()=>{if(!selectedParameter||reports.length===0){setTrendData([]);return;}// Sort reports by date (oldest first)\nconst sortedReports=[...reports].sort((a,b)=>{return new Date(a.report_info.report_date).getTime()-new Date(b.report_info.report_date).getTime();});// Extract parameter values from each report\nconst data=sortedReports.map(report=>{let paramValue=null;let referenceMin=null;let referenceMax=null;// Find the parameter in the report\nreport.test_sections.forEach(section=>{section.parameters.forEach(param=>{if(param.name===selectedParameter){// Convert value to number\nparamValue=parseFloat(param.value);// Extract reference range min and max\nif(param.reference_range){const rangeMatch=param.reference_range.match(/(\\d+\\.?\\d*)\\s*-\\s*(\\d+\\.?\\d*)/);if(rangeMatch){referenceMin=parseFloat(rangeMatch[1]);referenceMax=parseFloat(rangeMatch[2]);}}}});});return{date:formatDate(report.report_info.report_date),value:paramValue,referenceMin,referenceMax,isAbnormal:report.abnormal_parameters.some(param=>param.name===selectedParameter)};}).filter(item=>item.value!==null);setTrendData(data);},[selectedParameter,reports]);return/*#__PURE__*/_jsx(PageContainer,{title:\"Health History\",description:\"Track your health parameters over time\",isLoading:isLoading,error:error,actions:/*#__PURE__*/_jsx(Button,{variant:\"primary\",onClick:()=>navigate('/upload'),leftIcon:/*#__PURE__*/_jsx(\"svg\",{className:\"w-4 h-4\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",xmlns:\"http://www.w3.org/2000/svg\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:\"2\",d:\"M12 4v16m8-8H4\"})}),children:\"Upload New Report\"}),children:reports.length===0?/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-12\",children:[/*#__PURE__*/_jsx(\"svg\",{className:\"w-16 h-16 text-neutral-400 mx-auto mb-4\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",xmlns:\"http://www.w3.org/2000/svg\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:\"2\",d:\"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z\"})}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-semibold text-neutral-800 dark:text-white mb-2\",children:\"No History Available\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-neutral-600 dark:text-neutral-400 mb-6\",children:\"Upload blood test reports to start tracking your health parameters over time.\"}),/*#__PURE__*/_jsx(Button,{variant:\"primary\",onClick:()=>navigate('/upload'),children:\"Upload Your First Report\"})]}):/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsx(Card,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"p-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col md:flex-row md:items-center md:justify-between gap-4 mb-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-neutral-800 dark:text-white\",children:\"Parameter History\"}),/*#__PURE__*/_jsx(\"div\",{className:\"w-full md:w-64\",children:/*#__PURE__*/_jsx(\"select\",{value:selectedParameter,onChange:e=>setSelectedParameter(e.target.value),className:\"w-full px-3 py-2 border border-neutral-300 rounded-md shadow-sm focus:outline-none focus:ring-primary focus:border-primary dark:bg-neutral-800 dark:border-neutral-700 dark:text-white\",\"aria-label\":\"Select parameter to view history\",children:parameters.map(param=>/*#__PURE__*/_jsx(\"option\",{value:param,children:param},param))})})]}),trendData.length>0?/*#__PURE__*/_jsx(\"div\",{className:\"h-80\",children:/*#__PURE__*/_jsx(ResponsiveContainer,{width:\"100%\",height:\"100%\",children:/*#__PURE__*/_jsxs(AreaChart,{data:trendData,margin:{top:10,right:30,left:0,bottom:0},children:[/*#__PURE__*/_jsx(CartesianGrid,{strokeDasharray:\"3 3\"}),/*#__PURE__*/_jsx(XAxis,{dataKey:\"date\"}),/*#__PURE__*/_jsx(YAxis,{}),/*#__PURE__*/_jsx(Tooltip,{}),/*#__PURE__*/_jsx(Area,{type:\"monotone\",dataKey:\"value\",stroke:\"#3B82F6\",fill:\"#93C5FD\",activeDot:{r:8}}),((_trendData$=trendData[0])===null||_trendData$===void 0?void 0:_trendData$.referenceMin)!==null&&/*#__PURE__*/_jsx(Area,{type:\"monotone\",dataKey:\"referenceMin\",stroke:\"#10B981\",fill:\"transparent\",strokeDasharray:\"5 5\"}),((_trendData$2=trendData[0])===null||_trendData$2===void 0?void 0:_trendData$2.referenceMax)!==null&&/*#__PURE__*/_jsx(Area,{type:\"monotone\",dataKey:\"referenceMax\",stroke:\"#EF4444\",fill:\"transparent\",strokeDasharray:\"5 5\"})]})})}):/*#__PURE__*/_jsx(\"div\",{className:\"text-center py-12\",children:/*#__PURE__*/_jsx(\"p\",{className:\"text-neutral-600 dark:text-neutral-400\",children:\"No data available for the selected parameter.\"})})]})}),/*#__PURE__*/_jsx(Card,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"p-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-neutral-800 dark:text-white mb-4\",children:\"Report History\"}),/*#__PURE__*/_jsx(\"div\",{className:\"overflow-x-auto\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"min-w-full divide-y divide-neutral-200 dark:divide-neutral-700\",children:[/*#__PURE__*/_jsx(\"thead\",{className:\"bg-neutral-50 dark:bg-neutral-900\",children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{scope:\"col\",className:\"px-6 py-3 text-left text-xs font-medium text-neutral-500 dark:text-neutral-400 uppercase tracking-wider\",children:\"Date\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",className:\"px-6 py-3 text-left text-xs font-medium text-neutral-500 dark:text-neutral-400 uppercase tracking-wider\",children:\"Report Type\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",className:\"px-6 py-3 text-left text-xs font-medium text-neutral-500 dark:text-neutral-400 uppercase tracking-wider\",children:\"Lab\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",className:\"px-6 py-3 text-left text-xs font-medium text-neutral-500 dark:text-neutral-400 uppercase tracking-wider\",children:\"Abnormal Parameters\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",className:\"px-6 py-3 text-right text-xs font-medium text-neutral-500 dark:text-neutral-400 uppercase tracking-wider\",children:\"Actions\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{className:\"bg-white dark:bg-neutral-800 divide-y divide-neutral-200 dark:divide-neutral-700\",children:reports.map(report=>/*#__PURE__*/_jsxs(\"tr\",{className:\"hover:bg-neutral-50 dark:hover:bg-neutral-700 cursor-pointer\",onClick:()=>navigate(`/reports/${report.id}`),children:[/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap text-sm text-neutral-800 dark:text-white\",children:formatDate(report.report_info.report_date)}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap text-sm text-neutral-800 dark:text-white\",children:report.report_info.report_type}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap text-sm text-neutral-600 dark:text-neutral-400\",children:report.report_info.lab_name}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap text-sm text-neutral-600 dark:text-neutral-400\",children:report.abnormal_parameters.length}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap text-right text-sm font-medium\",children:/*#__PURE__*/_jsx(Button,{variant:\"text\",size:\"sm\",onClick:e=>{e.stopPropagation();navigate(`/reports/${report.id}`);},children:\"View\"})})]},report.id))})]})})]})})]})});};export default HistoryPage;","map":{"version":3,"names":["React","useState","useEffect","useReports","PageContainer","Card","Button","useNavigate","AreaChart","Area","XAxis","YAxis","CartesianGrid","Tooltip","ResponsiveContainer","formatDate","jsx","_jsx","jsxs","_jsxs","HistoryPage","_trendData$","_trendData$2","reports","isLoading","error","navigate","selectedParameter","setSelectedParameter","parameters","setParameters","trendData","setTrendData","length","uniqueParams","Set","forEach","report","test_sections","section","param","add","name","paramsList","Array","from","sort","sortedReports","a","b","Date","report_info","report_date","getTime","data","map","paramValue","referenceMin","referenceMax","parseFloat","value","reference_range","rangeMatch","match","date","isAbnormal","abnormal_parameters","some","filter","item","title","description","actions","variant","onClick","leftIcon","className","fill","stroke","viewBox","xmlns","children","strokeLinecap","strokeLinejoin","strokeWidth","d","onChange","e","target","width","height","margin","top","right","left","bottom","strokeDasharray","dataKey","type","activeDot","r","scope","id","report_type","lab_name","size","stopPropagation"],"sources":["/home/ubuntu/healthinsighttoday-frontend/src/pages/HistoryPage.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useReports } from '../context/ReportsContext';\nimport PageContainer from '../components/layout/PageContainer';\nimport Card from '../components/common/Card';\nimport Button from '../components/common/Button';\nimport { useNavigate } from 'react-router-dom';\nimport { AreaChart, Area, XAxis, YAxis, CartesianGrid, Tooltip, ResponsiveContainer } from 'recharts';\nimport { formatDate } from '../utils/formatters/dateFormatter';\n\nconst HistoryPage: React.FC = () => {\n  const { reports, isLoading, error } = useReports();\n  const navigate = useNavigate();\n  const [selectedParameter, setSelectedParameter] = useState<string>('');\n  const [parameters, setParameters] = useState<string[]>([]);\n  const [trendData, setTrendData] = useState<any[]>([]);\n\n  // Extract unique parameters from all reports\n  useEffect(() => {\n    if (reports.length > 0) {\n      const uniqueParams = new Set<string>();\n      \n      reports.forEach(report => {\n        report.test_sections.forEach(section => {\n          section.parameters.forEach(param => {\n            uniqueParams.add(param.name);\n          });\n        });\n      });\n      \n      const paramsList = Array.from(uniqueParams).sort();\n      setParameters(paramsList);\n      \n      // Set default selected parameter\n      if (paramsList.length > 0 && !selectedParameter) {\n        setSelectedParameter(paramsList[0]);\n      }\n    }\n  }, [reports, selectedParameter]);\n\n  // Generate trend data for selected parameter\n  useEffect(() => {\n    if (!selectedParameter || reports.length === 0) {\n      setTrendData([]);\n      return;\n    }\n    \n    // Sort reports by date (oldest first)\n    const sortedReports = [...reports].sort((a, b) => {\n      return new Date(a.report_info.report_date).getTime() - new Date(b.report_info.report_date).getTime();\n    });\n    \n    // Extract parameter values from each report\n    const data = sortedReports.map(report => {\n      let paramValue: number | null = null;\n      let referenceMin: number | null = null;\n      let referenceMax: number | null = null;\n      \n      // Find the parameter in the report\n      report.test_sections.forEach(section => {\n        section.parameters.forEach(param => {\n          if (param.name === selectedParameter) {\n            // Convert value to number\n            paramValue = parseFloat(param.value);\n            \n            // Extract reference range min and max\n            if (param.reference_range) {\n              const rangeMatch = param.reference_range.match(/(\\d+\\.?\\d*)\\s*-\\s*(\\d+\\.?\\d*)/);\n              if (rangeMatch) {\n                referenceMin = parseFloat(rangeMatch[1]);\n                referenceMax = parseFloat(rangeMatch[2]);\n              }\n            }\n          }\n        });\n      });\n      \n      return {\n        date: formatDate(report.report_info.report_date),\n        value: paramValue,\n        referenceMin,\n        referenceMax,\n        isAbnormal: report.abnormal_parameters.some(param => param.name === selectedParameter),\n      };\n    }).filter(item => item.value !== null);\n    \n    setTrendData(data);\n  }, [selectedParameter, reports]);\n\n  return (\n    <PageContainer\n      title=\"Health History\"\n      description=\"Track your health parameters over time\"\n      isLoading={isLoading}\n      error={error}\n      actions={\n        <Button\n          variant=\"primary\"\n          onClick={() => navigate('/upload')}\n          leftIcon={\n            <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M12 4v16m8-8H4\"></path>\n            </svg>\n          }\n        >\n          Upload New Report\n        </Button>\n      }\n    >\n      {reports.length === 0 ? (\n        <div className=\"text-center py-12\">\n          <svg className=\"w-16 h-16 text-neutral-400 mx-auto mb-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\n            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z\"></path>\n          </svg>\n          <h3 className=\"text-xl font-semibold text-neutral-800 dark:text-white mb-2\">No History Available</h3>\n          <p className=\"text-neutral-600 dark:text-neutral-400 mb-6\">\n            Upload blood test reports to start tracking your health parameters over time.\n          </p>\n          <Button\n            variant=\"primary\"\n            onClick={() => navigate('/upload')}\n          >\n            Upload Your First Report\n          </Button>\n        </div>\n      ) : (\n        <div className=\"space-y-6\">\n          <Card>\n            <div className=\"p-6\">\n              <div className=\"flex flex-col md:flex-row md:items-center md:justify-between gap-4 mb-6\">\n                <h3 className=\"text-lg font-semibold text-neutral-800 dark:text-white\">\n                  Parameter History\n                </h3>\n                \n                <div className=\"w-full md:w-64\">\n                  <select\n                    value={selectedParameter}\n                    onChange={(e) => setSelectedParameter(e.target.value)}\n                    className=\"w-full px-3 py-2 border border-neutral-300 rounded-md shadow-sm focus:outline-none focus:ring-primary focus:border-primary dark:bg-neutral-800 dark:border-neutral-700 dark:text-white\"\n                    aria-label=\"Select parameter to view history\"\n                  >\n                    {parameters.map(param => (\n                      <option key={param} value={param}>{param}</option>\n                    ))}\n                  </select>\n                </div>\n              </div>\n              \n              {trendData.length > 0 ? (\n                <div className=\"h-80\">\n                  <ResponsiveContainer width=\"100%\" height=\"100%\">\n                    <AreaChart\n                      data={trendData}\n                      margin={{ top: 10, right: 30, left: 0, bottom: 0 }}\n                    >\n                      <CartesianGrid strokeDasharray=\"3 3\" />\n                      <XAxis dataKey=\"date\" />\n                      <YAxis />\n                      <Tooltip />\n                      <Area \n                        type=\"monotone\" \n                        dataKey=\"value\" \n                        stroke=\"#3B82F6\" \n                        fill=\"#93C5FD\" \n                        activeDot={{ r: 8 }}\n                      />\n                      {trendData[0]?.referenceMin !== null && (\n                        <Area \n                          type=\"monotone\" \n                          dataKey=\"referenceMin\" \n                          stroke=\"#10B981\" \n                          fill=\"transparent\" \n                          strokeDasharray=\"5 5\"\n                        />\n                      )}\n                      {trendData[0]?.referenceMax !== null && (\n                        <Area \n                          type=\"monotone\" \n                          dataKey=\"referenceMax\" \n                          stroke=\"#EF4444\" \n                          fill=\"transparent\" \n                          strokeDasharray=\"5 5\"\n                        />\n                      )}\n                    </AreaChart>\n                  </ResponsiveContainer>\n                </div>\n              ) : (\n                <div className=\"text-center py-12\">\n                  <p className=\"text-neutral-600 dark:text-neutral-400\">\n                    No data available for the selected parameter.\n                  </p>\n                </div>\n              )}\n            </div>\n          </Card>\n          \n          <Card>\n            <div className=\"p-6\">\n              <h3 className=\"text-lg font-semibold text-neutral-800 dark:text-white mb-4\">\n                Report History\n              </h3>\n              \n              <div className=\"overflow-x-auto\">\n                <table className=\"min-w-full divide-y divide-neutral-200 dark:divide-neutral-700\">\n                  <thead className=\"bg-neutral-50 dark:bg-neutral-900\">\n                    <tr>\n                      <th scope=\"col\" className=\"px-6 py-3 text-left text-xs font-medium text-neutral-500 dark:text-neutral-400 uppercase tracking-wider\">\n                        Date\n                      </th>\n                      <th scope=\"col\" className=\"px-6 py-3 text-left text-xs font-medium text-neutral-500 dark:text-neutral-400 uppercase tracking-wider\">\n                        Report Type\n                      </th>\n                      <th scope=\"col\" className=\"px-6 py-3 text-left text-xs font-medium text-neutral-500 dark:text-neutral-400 uppercase tracking-wider\">\n                        Lab\n                      </th>\n                      <th scope=\"col\" className=\"px-6 py-3 text-left text-xs font-medium text-neutral-500 dark:text-neutral-400 uppercase tracking-wider\">\n                        Abnormal Parameters\n                      </th>\n                      <th scope=\"col\" className=\"px-6 py-3 text-right text-xs font-medium text-neutral-500 dark:text-neutral-400 uppercase tracking-wider\">\n                        Actions\n                      </th>\n                    </tr>\n                  </thead>\n                  <tbody className=\"bg-white dark:bg-neutral-800 divide-y divide-neutral-200 dark:divide-neutral-700\">\n                    {reports.map((report) => (\n                      <tr \n                        key={report.id}\n                        className=\"hover:bg-neutral-50 dark:hover:bg-neutral-700 cursor-pointer\"\n                        onClick={() => navigate(`/reports/${report.id}`)}\n                      >\n                        <td className=\"px-6 py-4 whitespace-nowrap text-sm text-neutral-800 dark:text-white\">\n                          {formatDate(report.report_info.report_date)}\n                        </td>\n                        <td className=\"px-6 py-4 whitespace-nowrap text-sm text-neutral-800 dark:text-white\">\n                          {report.report_info.report_type}\n                        </td>\n                        <td className=\"px-6 py-4 whitespace-nowrap text-sm text-neutral-600 dark:text-neutral-400\">\n                          {report.report_info.lab_name}\n                        </td>\n                        <td className=\"px-6 py-4 whitespace-nowrap text-sm text-neutral-600 dark:text-neutral-400\">\n                          {report.abnormal_parameters.length}\n                        </td>\n                        <td className=\"px-6 py-4 whitespace-nowrap text-right text-sm font-medium\">\n                          <Button\n                            variant=\"text\"\n                            size=\"sm\"\n                            onClick={(e) => {\n                              e.stopPropagation();\n                              navigate(`/reports/${report.id}`);\n                            }}\n                          >\n                            View\n                          </Button>\n                        </td>\n                      </tr>\n                    ))}\n                  </tbody>\n                </table>\n              </div>\n            </div>\n          </Card>\n        </div>\n      )}\n    </PageContainer>\n  );\n};\n\nexport default HistoryPage;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}